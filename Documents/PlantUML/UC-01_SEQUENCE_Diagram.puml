@startuml
title UC-01: User Registration - Sequence Diagram

actor "User" as user
participant "User Interface (UI)" as ui
participant "Registration Controller" as regCtrl
participant "User Service" as userService
participant "Database Server" as dbServer
participant "Email Service" as emailService

user -> ui: Access registration page
ui -> regCtrl: Load registration page request
regCtrl -> userService: API request to load registration page
userService --> regCtrl: Return response
regCtrl --> ui: Display registration page

group Registration Process
    user -> ui: Enter registration details
    ui -> regCtrl: Submit registration details
    regCtrl -> userService: API request to register user
    userService -> dbServer: Check for existing users with the same email
    dbServer --> userService: Return existing user check result
    userService -> userService: Decide whether to create user based on result
    userService -> dbServer: Create new user record
    dbServer --> userService: Return success status
    userService --> regCtrl: Return success status
    regCtrl --> ui: Confirm successful registration
end group

group Account Verification
    user -> ui: Clicks on verification link in email
    ui -> regCtrl: Verification link clicked
    regCtrl -> userService: API request to verify user
    userService -> dbServer: Verify user account
    dbServer --> userService: Return success status
    userService -> emailService: Send verification success email
    emailService --> userService: Confirmation of email sent
    userService --> regCtrl: Return success status
    regCtrl --> ui: Display successful verification message
end group

@enduml
